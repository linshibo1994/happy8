# å¿«ä¹8æ™ºèƒ½é¢„æµ‹ç³»ç»Ÿ - éƒ¨ç½²æŒ‡å—

## ğŸ“‹ ç›®å½•

1. [ç³»ç»Ÿè¦æ±‚](#ç³»ç»Ÿè¦æ±‚)
2. [æœ¬åœ°éƒ¨ç½²](#æœ¬åœ°éƒ¨ç½²)
3. [Dockeréƒ¨ç½²](#dockeréƒ¨ç½²)
4. [äº‘æœåŠ¡å™¨éƒ¨ç½²](#äº‘æœåŠ¡å™¨éƒ¨ç½²)
5. [æ€§èƒ½ä¼˜åŒ–é…ç½®](#æ€§èƒ½ä¼˜åŒ–é…ç½®)
6. [ç›‘æ§å’Œç»´æŠ¤](#ç›‘æ§å’Œç»´æŠ¤)
7. [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

## ğŸ’» ç³»ç»Ÿè¦æ±‚

### æœ€ä½é…ç½®
- **æ“ä½œç³»ç»Ÿ**: Windows 10/macOS 10.15/Ubuntu 18.04+
- **Python**: 3.8+
- **CPU**: 4æ ¸å¿ƒ
- **å†…å­˜**: 8GB RAM
- **å­˜å‚¨**: 2GBå¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: ç¨³å®šçš„äº’è”ç½‘è¿æ¥

### æ¨èé…ç½®
- **æ“ä½œç³»ç»Ÿ**: Ubuntu 20.04 LTS / macOS 12+
- **Python**: 3.9+
- **CPU**: 8æ ¸å¿ƒ+ (Intel i7/AMD Ryzen 7)
- **å†…å­˜**: 16GB+ RAM
- **å­˜å‚¨**: 10GB+ SSD
- **GPU**: NVIDIA GTX 1060+ (å¯é€‰ï¼Œç”¨äºæ·±åº¦å­¦ä¹ åŠ é€Ÿ)
- **ç½‘ç»œ**: 100Mbps+

### ç”Ÿäº§ç¯å¢ƒé…ç½®
- **CPU**: 16æ ¸å¿ƒ+ (Intel Xeon/AMD EPYC)
- **å†…å­˜**: 32GB+ RAM
- **å­˜å‚¨**: 50GB+ NVMe SSD
- **GPU**: NVIDIA RTX 3080+ / Tesla V100+
- **ç½‘ç»œ**: 1Gbps+ ä¸“çº¿

## ğŸ  æœ¬åœ°éƒ¨ç½²

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/linshibo1994/happy8.git
cd happy8

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv
source venv/bin/activate  # Linux/macOS
# æˆ–
venv\Scripts\activate     # Windows

# 3. å‡çº§pip
pip install --upgrade pip

# 4. å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 2. åŸºç¡€é…ç½®

```bash
# 1. éªŒè¯å®‰è£…
python main.py --help

# 2. æµ‹è¯•æ•°æ®åŠ è½½
python main.py test-data

# 3. è¿è¡Œç³»ç»Ÿæµ‹è¯•
python src/system_test_suite.py
```

### 3. å¯åŠ¨æœåŠ¡

```bash
# Webç•Œé¢æ¨¡å¼
python main.py web

# å‘½ä»¤è¡Œæ¨¡å¼
python main.py predict --issue 2025999 --method frequency --count 10
```

## ğŸ³ Dockeréƒ¨ç½²

### 1. åˆ›å»ºDockerfile

```dockerfile
FROM python:3.9-slim

WORKDIR /app

# å®‰è£…ç³»ç»Ÿä¾èµ–
RUN apt-get update && apt-get install -y \
    gcc \
    g++ \
    && rm -rf /var/lib/apt/lists/*

# å¤åˆ¶é¡¹ç›®æ–‡ä»¶
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

# æš´éœ²ç«¯å£
EXPOSE 8501

# å¯åŠ¨å‘½ä»¤
CMD ["python", "main.py", "web"]
```

### 2. æ„å»ºå’Œè¿è¡Œ

```bash
# æ„å»ºé•œåƒ
docker build -t happy8-predictor .

# è¿è¡Œå®¹å™¨
docker run -p 8501:8501 happy8-predictor

# åå°è¿è¡Œ
docker run -d -p 8501:8501 --name happy8 happy8-predictor
```

### 3. Docker Composeéƒ¨ç½²

```yaml
version: '3.8'

services:
  happy8:
    build: .
    ports:
      - "8501:8501"
    environment:
      - PYTHONPATH=/app
    volumes:
      - ./data:/app/data
      - ./logs:/app/logs
    restart: unless-stopped
    
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
    depends_on:
      - happy8
    restart: unless-stopped
```

## â˜ï¸ äº‘æœåŠ¡å™¨éƒ¨ç½²

### 1. AWS EC2éƒ¨ç½²

```bash
# 1. å¯åŠ¨EC2å®ä¾‹ (æ¨è: t3.largeæˆ–æ›´é«˜)
# 2. è¿æ¥åˆ°å®ä¾‹
ssh -i your-key.pem ubuntu@your-ec2-ip

# 3. æ›´æ–°ç³»ç»Ÿ
sudo apt update && sudo apt upgrade -y

# 4. å®‰è£…Pythonå’ŒGit
sudo apt install python3 python3-pip python3-venv git -y

# 5. å…‹éš†é¡¹ç›®
git clone https://github.com/linshibo1994/happy8.git
cd happy8

# 6. å®‰è£…ä¾èµ–
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt

# 7. é…ç½®é˜²ç«å¢™
sudo ufw allow 8501
sudo ufw enable

# 8. å¯åŠ¨æœåŠ¡
nohup python main.py web > app.log 2>&1 &
```

### 2. é˜¿é‡Œäº‘ECSéƒ¨ç½²

```bash
# 1. åˆ›å»ºECSå®ä¾‹ (æ¨è: ecs.c6.largeæˆ–æ›´é«˜)
# 2. é…ç½®å®‰å…¨ç»„è§„åˆ™ (å¼€æ”¾8501ç«¯å£)
# 3. è¿æ¥æœåŠ¡å™¨
ssh root@your-ecs-ip

# 4. å®‰è£…ä¾èµ–
yum update -y
yum install python3 python3-pip git -y

# 5. éƒ¨ç½²åº”ç”¨ (åŒAWSæ­¥éª¤5-8)
```

### 3. ä½¿ç”¨Systemdç®¡ç†æœåŠ¡

```bash
# åˆ›å»ºæœåŠ¡æ–‡ä»¶
sudo nano /etc/systemd/system/happy8.service
```

```ini
[Unit]
Description=Happy8 Prediction System
After=network.target

[Service]
Type=simple
User=ubuntu
WorkingDirectory=/home/ubuntu/happy8
Environment=PATH=/home/ubuntu/happy8/venv/bin
ExecStart=/home/ubuntu/happy8/venv/bin/python main.py web
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

```bash
# å¯ç”¨å’Œå¯åŠ¨æœåŠ¡
sudo systemctl daemon-reload
sudo systemctl enable happy8
sudo systemctl start happy8

# æŸ¥çœ‹çŠ¶æ€
sudo systemctl status happy8
```

## âš¡ æ€§èƒ½ä¼˜åŒ–é…ç½®

### 1. CPUä¼˜åŒ–

```bash
# è®¾ç½®CPUäº²å’Œæ€§
taskset -c 0-7 python main.py web

# è°ƒæ•´è¿›ç¨‹ä¼˜å…ˆçº§
nice -n -10 python main.py web
```

### 2. å†…å­˜ä¼˜åŒ–

```python
# åœ¨main.pyä¸­æ·»åŠ å†…å­˜ä¼˜åŒ–é…ç½®
import os
os.environ['OMP_NUM_THREADS'] = '8'
os.environ['MKL_NUM_THREADS'] = '8'
```

### 3. GPUåŠ é€Ÿé…ç½®

```bash
# å®‰è£…CUDA (å¦‚æœæœ‰NVIDIA GPU)
wget https://developer.download.nvidia.com/compute/cuda/11.8/local_installers/cuda_11.8.0_520.61.05_linux.run
sudo sh cuda_11.8.0_520.61.05_linux.run

# å®‰è£…PyTorch GPUç‰ˆæœ¬
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
```

### 4. ç½‘ç»œä¼˜åŒ–

```bash
# é…ç½®Nginxåå‘ä»£ç†
upstream happy8_backend {
    server 127.0.0.1:8501;
}

server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        proxy_pass http://happy8_backend;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### 1. æ—¥å¿—é…ç½®

```python
# åœ¨src/config.pyä¸­é…ç½®æ—¥å¿—
import logging

logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('logs/app.log'),
        logging.StreamHandler()
    ]
)
```

### 2. æ€§èƒ½ç›‘æ§

```bash
# å®‰è£…ç›‘æ§å·¥å…·
pip install psutil

# åˆ›å»ºç›‘æ§è„šæœ¬
python src/performance_optimizer.py
```

### 3. å¥åº·æ£€æŸ¥

```bash
# åˆ›å»ºå¥åº·æ£€æŸ¥è„šæœ¬
#!/bin/bash
curl -f http://localhost:8501/_stcore/health || exit 1
```

### 4. è‡ªåŠ¨å¤‡ä»½

```bash
# åˆ›å»ºå¤‡ä»½è„šæœ¬
#!/bin/bash
DATE=$(date +%Y%m%d_%H%M%S)
tar -czf backup_$DATE.tar.gz data/ logs/ src/
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. ç«¯å£è¢«å ç”¨
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :8501
# æ€æ­»è¿›ç¨‹
kill -9 PID
```

#### 2. å†…å­˜ä¸è¶³
```bash
# æŸ¥çœ‹å†…å­˜ä½¿ç”¨
free -h
# æ¸…ç†ç¼“å­˜
sudo sync && sudo sysctl vm.drop_caches=3
```

#### 3. ä¾èµ–åŒ…å†²çª
```bash
# é‡æ–°åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
rm -rf venv
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

#### 4. GPUä¸å¯ç”¨
```bash
# æ£€æŸ¥CUDAå®‰è£…
nvidia-smi
# æ£€æŸ¥PyTorch GPUæ”¯æŒ
python -c "import torch; print(torch.cuda.is_available())"
```

### æ€§èƒ½è°ƒä¼˜

#### 1. ç®—æ³•é€‰æ‹©ä¼˜åŒ–
- æ—¥å¸¸ä½¿ç”¨: frequency, adaptive_markov
- é«˜ç²¾åº¦éœ€æ±‚: super_predictor
- å¿«é€Ÿå“åº”: clustering, bayesian

#### 2. èµ„æºåˆ†é…ä¼˜åŒ–
- CPUå¯†é›†å‹ç®—æ³•: åˆ†é…æ›´å¤šCPUæ ¸å¿ƒ
- å†…å­˜å¯†é›†å‹ç®—æ³•: å¢åŠ å†…å­˜é™åˆ¶
- GPUç®—æ³•: ç¡®ä¿GPUå¯ç”¨æ€§

#### 3. ç¼“å­˜ç­–ç•¥
- å¯ç”¨æ•°æ®ç¼“å­˜
- é¢„åŠ è½½å¸¸ç”¨æ¨¡å‹
- å®šæœŸæ¸…ç†ä¸´æ—¶æ–‡ä»¶

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°éƒ¨ç½²é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—: `tail -f logs/app.log`
2. è¿è¡Œç³»ç»Ÿæµ‹è¯•: `python src/system_test_suite.py`
3. æ£€æŸ¥ç³»ç»Ÿèµ„æº: `python src/performance_optimizer.py`
4. æäº¤GitHub Issueå¹¶é™„ä¸Šé”™è¯¯æ—¥å¿—

**éƒ¨ç½²æˆåŠŸåï¼Œè®¿é—® http://your-server:8501 å¼€å§‹ä½¿ç”¨ï¼** ğŸ‰
